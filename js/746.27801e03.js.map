{"version":3,"file":"js/746.27801e03.js","mappings":"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","sources":["webpack://vue-practice-app/./src/views/Request.vue","webpack://vue-practice-app/./src/views/Request.vue?7836"],"sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back title=\"Карточка сотрудника\" v-else-if=\"request\">\n    <p><strong>Имя владельца</strong>: {{request.fio}}</p>\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"active\">Работает</option>\n        <option value=\"cancelled\">Уволен</option>\n        <option value=\"done\">На испытательном сроке</option>\n        <option value=\"pending\">В отпуске</option>\n      </select>\n    </div>\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Заявки с ID = {{$route.params.id}} нет.\n  </h3>\n</template>\n\n<script>\nimport {ref, onMounted, computed} from 'vue'\nimport {useStore} from 'vuex'\nimport {useRoute, useRouter} from 'vue-router'\nimport AppPage from '../components/ui/AppPage'\nimport AppLoader from '../components/ui/AppLoader'\nimport AppStatus from '../components/ui/AppStatus'\nimport {currency} from '../utils/currency'\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadOne', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = {...request.value, status: status.value, id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return {loading, request, currency, remove, update, status, hasChanges}\n  },\n  components: {AppPage, AppLoader, AppStatus}\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Request.vue?vue&type=template&id=8de5a5a0\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Андрей\\\\Downloads\\\\CRM-main\\\\CRM-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","_toDisplayString","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_createVNode","_component_app_status","type","status","_hoisted_7","id","$event","onClick","_createElementBlock","_ctx","params","setup","route","useRoute","router","useRouter","store","useStore","ref","loading","request","onMounted","dispatch","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppLoader","AppStatus","__exports__","render"],"sourceRoot":""}